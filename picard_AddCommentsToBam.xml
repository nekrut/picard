<tool name="AddCommentsToBam" id="picard_AddCommentsToBam" version="1.121.0">
  <description>Adds one or more comments to the header of a BAM dataset</description>
  <requirements><requirement type="package" version="1.121.0">picard</requirement></requirements>
  
  <macros>
    <import>picard_macros.xml</import>
  </macros>
  
  <command>
    @java_options@
    java -jar \$JAVA_JAR_PATH/AddCommentsToBam.jar
      INPUT="${inputFile}"
      OUTPUT="${outFile}"
      #for $element in $comments:
        COMMENT="${element.comment}"
      #end for
      QUIET=true
      VERBOSITY=ERROR
      VALIDATION_STRINGENCY=${validation_stringency}
  </command>
  
  <inputs>
    <param format="bam" name="inputFile" type="data" label="SAM/BAM dataset to add or replace read groups in" help="If empty, upload or import a SAM/BAM dataset." />
    <repeat name="comments" title="Comment" min="1" help="You can provide multiple comments">
          <param name="comment" type="text" size="50" label="Add this comment to BAM dataset"/>
    </repeat>

    <expand macro="VS" />

  </inputs>

  <outputs>
    <data name="outFile" format="bam" />
  </outputs>
  
  <stdio>
    <exit_code range="1:"  level="fatal"/>
  </stdio>
  
  <tests>
  <test>
      <param name="inputFile" value="picard_AddCommentsToBam.bam" />
      <param name="comment" value="test1" />
      <param name="validation_stringency" value="LENIENT" />
      <output name="outFile" file="picard_AddCommentsToBam_test1.bam" ftype="bam" />
    </test>
  </tests>
  <help>

.. class:: infomark

**Purpose**

Adds one or more comments (@CO) to the header of a specified BAM dataset. 

@description@

  INPUT=File
  I=File            Input BAM file to add a comment to the header  Required. 

  OUTPUT=File
  O=File            Output BAM file to write results  Required. 

  COMMENT=String
  C=String          Comments to add to the BAM file  This option may be specified 0 or more times. 

@more_info@
  </help>
</tool>













